<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <template id="general_ledger_expanded_main_template">
            <div class='o_account_reports_body'>
                <div class="alert alert-info text-center mb-0 no_print"
                     t-if="not options.get('all_entries') and options.get('unposted_in_period')">
                    <span>There are <a action="open_unposted_moves">unposted Journal Entries</a> prior or included in
                        this period
                    </span>
                </div>
                <div class="o_account_reports_page o_account_reports_no_print">

                    <div class="o_account_reports_header">
                        <div class="print_only">
                            <h2>
                                <t t-esc="report.get('name')"></t>
                            </h2>
                        </div>
                        <t t-if="model._name == 'phd.account.general.ledger'">
                            <div class="o_account_reports_filter_input_wrapper no_print">
                                <span class="searchIcon">
                                    <i class="fa fa-search" role="img" aria-label="Search" title="Search"></i>
                                </span>
                                <input class="o_account_reports_filter_input" type="text" placeholder="Search account"/>
                            </div>
                        </t>
                        <t t-call="account_reports.filter_info_template"/>
                    </div>
                    <div class="o_account_reports_summary"/>
                    <div class="table-responsive">
                        <table class="o_account_reports_table table-hover">
                            <t t-call="{{model._get_templates()['main_table_header_template']}}"/>
                            <tbody>
                                <t t-if="lines.get('lines')">
                                    <t t-call="{{model._get_templates()['line_template']}}"/>
                                </t>
                            </tbody>
                        </table>
                    </div>
                    <div class="js_account_report_footnotes"/>
                </div>
            </div>
        </template>

        <template id="general_ledger_search_template" inherit_id="account_reports.search_template" primary="True">
            <xpath expr="//div[hasclass('o_account_reports_filter_analytic')]" position="replace">
                <div class="btn-group o_dropdown o_account_reports_filter_analytic"
                     t-if="options.get('analytic') != None or options.get('analytic_tags') != None">
                    <t t-call="phd_account_reports.phd_search_template_account_type"/>
                </div>
            </xpath>
        </template>

        <template id="phd_search_template_account_type">
            <a t-if="options.get('analytic')" type="button" class="dropdown-toggle account_analytic_filter"
               data-toggle="dropdown">
                <span class="fa fa-folder-open"/>
                Account
            </a>
            <ul class="dropdown-menu o_filters_menu" role="menu">
                <li class="o_account_report_search js_account_analytic_m2m"/>
            </ul>
        </template>

        <template id="general_leager_expanded_footer" inherit_id="web.internal_layout" primary="True">
            <xpath expr="//div[hasclass('header')]" position="replace">
                <div class="header">
                    <div class="row">
                        <div class="col-3" style="font-weight:bold;font-size:0.8rem;">
                            <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%m/%d/%Y %H:%M')"/>
                        </div>
                        <div class="col-2 offset-2 text-center" style="font-weight:bold;font-size:0.8rem;">
                            <span t-esc="company.name"/>
                        </div>
                        <div class="col-2 offset-3 text-right">
                            <ul class="list-inline">
                                <li class="list-inline-item" style="font-weight:bold;font-size:0.8rem;">
                                    Page:
                                    <span class="page"/>
                                </li>
                                <li class="list-inline-item" style="font-weight:bold;font-size:0.8rem;">/</li>
                                <li class="list-inline-item" style="font-weight:bold;font-size:0.8rem;">
                                    <span class="topage"/>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </xpath>
        </template>

        <template id="general_leager_expanded_line_template" inherit_id="account_reports.line_template" primary="True">
            <xpath expr="//t[@t-as='column']" position="replace">
                <t t-foreach="line.get('columns')" t-as="column">
                    <t t-set="hierarchies_enabled" t-value="len(lines.get('columns_header', [])) > 1"/>
                    <td t-att-class="'o_account_report_line ' + (column.get('class', lines.get('columns_header')[-1][column_index+line.get('colspan', 1)].get('class', '')) + (line.get('unfoldable') and ' o_foldable_total' or '')) + ('' if hierarchies_enabled else ' o_account_report_line_indent')"
                        t-att-style="column.get('style', lines.get('columns_header')[-1][column_index+line.get('colspan', 1)].get('style', ''))">
                        <span class="o_account_report_column_value" t-att-title="column.get('title')">
                            <t t-esc="column.get('name')"/>
                        </span>
                    </td>
                    <t t-set="column_index" t-value="column_index + 1"/>
                </t>
            </xpath>
        </template>
    </data>
</odoo>