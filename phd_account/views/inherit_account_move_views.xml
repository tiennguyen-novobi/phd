<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="view_account_move_form_inherit_phd_account" model="ir.ui.view">
        <field name="name">account.move.form.view.inherit.phd.account</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr='//page[@id="other_tab"]' position="before">
                <page id="sps_other_info" string="SPS Other Info">
                    <group id="sps_other_info_group">
                        <field name="sps_trading_partner_id" string="SPS Trading Partner ID" readonly="1"/>
                        <field name="sps_po_number" string="P.O. Number" readonly="1"/>
                        <field name="ship_date" string="Ship Date"/>
                        <field name="bol_number" string="BOL Number"/>
                        <field name="wsi_number" string="WSI#"/>
                        <field name="sps_edi_document" readonly="1"/>
                        <field name="sps_edi_document_upload_status" readonly="1"/>
                    </group>
                </page>
            </xpath>
            <xpath expr='//field[@name="invoice_line_ids"]/tree//field[@name="price_unit"]' position="after">
                <field name="lot_name" string="Lot#"/>
            </xpath>

            <xpath expr='//field[@name="line_ids"]/tree' position="inside">
                <field name="lot_name" invisible="1"/>
            </xpath>
        </field>
    </record>

    <record id="action_export_invoice_to_810" model="ir.actions.server">
        <field name="name">Upload to SPS</field>
        <field name="model_id" ref="phd_account.model_account_move"/>
        <field name="binding_model_id" ref="phd_account.model_account_move"/>
        <field name="binding_view_types">list,form</field>
        <field name="state">code</field>
        <field name="code">action = records.action_create_text_810()</field>
    </record>


    <record id="phd_account_move_line_inherit" model="ir.ui.view">
        <field name="name">phd.account.move.line.inherit</field>
        <field name="model">account.move.line</field>
        <field name="inherit_id" ref="account.view_move_line_tree_grouped"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <xpath expr='//field[@name="date"]' position="after">
                <field name="date_maturity"/>
            </xpath>
        </field>
    </record>

    <record id="phd_usa_payment_invoice_tree_view_inherit" model="ir.ui.view">
        <field name="name">phd.usa.payment.invoice.tree.view.inherit.phd.account</field>
        <field name="model">usa.payment.invoice</field>
        <field name="inherit_id" ref="l10n_us_accounting.usa_payment_invoice_tree"/>
        <field name="arch" type="xml">
            <xpath expr='//field[@name="account_move_line_id"]' position="attributes">
                <attribute name="context">{
                    'filter_another_field': True,
                    'field_name': 'ref',
                    'tree_view_ref': 'phd_account.phd_account_move_line_inherit'
                }
                </attribute>
            </xpath>
        </field>
    </record>

    <record id="account.action_account_payments" model="ir.actions.act_window">
        <field name="domain">[('is_deposit_customization', '=', False)]</field>
    </record>

    <record id="account.action_account_payments_payable" model="ir.actions.act_window">
        <field name="domain">[('is_deposit_customization', '=', False)]</field>
    </record>
</odoo>


